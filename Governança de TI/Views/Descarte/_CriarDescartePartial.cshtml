@model Governança_de_TI.Models.DescarteModel

<div class="p-4">

    <form id="formCriarDescarte"
          asp-controller="Descarte"
          asp-action="Criar"
          method="post"
          enctype="multipart/form-data">

        @Html.AntiForgeryToken()
        <div asp-validation-summary="ModelOnly" class="text-danger small mb-3"></div>

        <div class="row g-4">

            <!-- =================== COLUNA ESQUERDA =================== -->
            <div class="col-md-7">

                <!-- Equipamento -->
                <div class="mb-3">
                    <label asp-for="EquipamentoId" class="form-label text-muted small">
                        <i class="bi bi-cpu me-1"></i>Equipamento
                    </label>
                    <select asp-for="EquipamentoId"
                            asp-items="ViewBag.EquipamentoId"
                            id="EquipamentoId"
                            class="form-select shadow-sm"
                            required>
                    </select>
                </div>

                <!-- Descrição -->
                <div class="mb-3">
                    <label asp-for="Descricao" class="form-label text-muted small" readonly>
                        <i class="bi bi-info-circle me-1"></i>Descrição
                    </label>
                    <input asp-for="Descricao" id="Descricao" class="form-control shadow-sm" />
                </div>

                <!-- Observação -->
                <div class="mb-3">
                    <label asp-for="Observacao" class="form-label text-muted small">
                        <i class="bi bi-journal-text me-1"></i>Observação
                    </label>
                    <textarea asp-for="Observacao" class="form-control shadow-sm" rows="2"></textarea>
                </div>

                <!-- Quantidade e Data Coleta -->
                <div class="row">
                    <div class="col-sm-6 mb-3">
                        <label asp-for="Quantidade" class="form-label text-muted small">Quantidade</label>
                        <input asp-for="Quantidade" type="number" min="1" class="form-control shadow-sm" required />
                    </div>
                    <div class="col-sm-6 mb-3">
                        <label asp-for="DataColeta" class="form-label text-muted small">Data da Coleta</label>
                        <input asp-for="DataColeta" type="date" class="form-control shadow-sm" />
                    </div>
                </div>

                <!-- Empresa -->
                <div class="mb-3">
                    <label asp-for="EmpresaColetora" class="form-label text-muted small">Empresa Coletora</label>
                    <input asp-for="EmpresaColetora" class="form-control shadow-sm" required />
                </div>

                <!-- CNPJ + Email -->
                <div class="row">
                    <div class="col-sm-6 mb-3">
                        <label asp-for="CnpjEmpresa" class="form-label text-muted small">CNPJ da Empresa</label>
                        <input asp-for="CnpjEmpresa" class="form-control shadow-sm" />
                    </div>
                    <div class="col-sm-6 mb-3">
                        <label asp-for="EmailEmpresa" class="form-label text-muted small">E-mail</label>
                        <input asp-for="EmailEmpresa" class="form-control shadow-sm" />
                    </div>
                </div>

                <!-- Responsável -->
                <div class="mb-3">
                    <label asp-for="PessoaResponsavelColeta" class="form-label text-muted small">
                        Responsável pela Coleta
                    </label>
                    <input asp-for="PessoaResponsavelColeta" class="form-control shadow-sm" required />
                </div>

                <!-- Status -->
                <div class="mb-3">
                    <label asp-for="Status" class="form-label text-muted small">Status</label>
                    <select asp-for="Status" class="form-select shadow-sm" required>
                        <option value="">Selecione...</option>
                        <option>Pendente</option>
                        <option>Coletado</option>
                        <option>Reciclado</option>
                        <option>Doado</option>
                    </select>
                </div>

                <!-- Certificado -->
                <div class="mb-3">
                    <label asp-for="CertificadoUpload" class="form-label text-muted small">
                        Certificado (PDF)
                    </label>
                    <input asp-for="CertificadoUpload"
                           class="form-control form-control-sm shadow-sm"
                           type="file"
                           accept="application/pdf" />
                </div>

                <!-- Enviar Email -->
                <div class="form-check mb-3">
                    <input asp-for="EnviarEmail" class="form-check-input" type="checkbox" />
                    <label asp-for="EnviarEmail" class="form-check-label small text-muted">
                        Enviar e-mail para a empresa
                    </label>
                </div>

            </div>

            <!-- =================== COLUNA DIREITA =================== -->
            <div class="col-md-5 text-center">

                <label class="form-label text-muted small d-block mb-2">
                    <i class="bi bi-image me-1"></i>Imagem do Equipamento
                </label>

                <div class="border rounded-4 bg-light p-1 shadow-sm d-flex align-items-center justify-content-center mx-auto"
                     style="width: 230px; height: 230px; overflow:hidden;">

                    <img id="imagePreview"
                         src="/img/default-equip.png"
                         class="img-fluid rounded"
                         style="object-fit: cover; width:100%; height:100%;" />
                </div>

                <small class="text-muted small mt-2 d-block">
                    A imagem será carregada automaticamente ao selecionar o equipamento.
                </small>

            </div>

        </div>

        <hr class="my-3" />

        <div class="d-flex justify-content-end">
            <button type="button" class="btn btn-outline-secondary me-2" data-bs-dismiss="modal">
                <i class="bi bi-x-circle me-1"></i>Cancelar
            </button>

            <button type="submit" class="btn btn-primary px-4"
                    style="background-color:#8A2BE2;border-color:#8A2BE2;">
                <i class="bi bi-save me-1"></i>Salvar
            </button>
        </div>

    </form>
</div>

<!-- =================== SCRIPT: IMAGEM + DESCRIÇÃO =================== -->
<script>
   
</script>
